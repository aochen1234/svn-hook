{% extends "base.html" %}
{% block title %}检测规则查看{% endblock %}
{% block welcome %}{{ user }}{% endblock %}
{% block name %}{{ user }}{% endblock %}
{% load mytags %}
{% block menu %}
    <ul class="sidebar-nav">
					<li class="sidebar-nav-link">
						<a href="{% url "index" %}">
							<i class="am-icon-home sidebar-nav-link-logo"></i> 首页
						</a>
					</li>
					<li class="sidebar-nav-link">
						<a href="{% url 'result_dis' %}">
							<i class="am-icon-clone sidebar-nav-link-logo"></i> 检测结果查看
							<span class="am-badge am-badge-secondary sidebar-nav-link-logo-ico am-round am-fr am-margin-right-sm"></span>
						</a>
					</li>
					<li class="sidebar-nav-link">
						<a href="{% url "source_set" %}">
							<i class="am-icon-table sidebar-nav-link-logo"></i> 检测来源设置
						</a>
					</li>
					<li class="sidebar-nav-link">
						<a href="{% url "testrule" %}" class="active">
							<i class="am-icon-calendar sidebar-nav-link-logo"></i> 检测规则设置
						</a>
					</li>
					<li class="sidebar-nav-link">
						<a href="{% url "speed" %}" >
							<i class="am-icon-calendar sidebar-nav-link-logo"></i> 检测起始点设置
						</a>
					</li>
                    <li class="sidebar-nav-heading"></li>
                    <li class="sidebar-nav-link">
                    </li>
			</div>
        </ul>
{% endblock %}
            {% block content %}
			<!-- 内容区域 -->

			<div class="tpl-content-wrapper">
							<div class="widget am-cf widget-body-lg">

								<div class="widget-body  am-fr">
									<div class="am-scrollable-horizontal ">
										<table width="200%" class="am-table am-table-compact am-text-nowrap tpl-table-black ">
											<thead>
												<tr>
													<th style="font-size: 16px">规则名字</th>
                                                    <th style="font-size: 16px">规则内容</th>
                                                    <th style="font-size: 16px">匹配类型</th>
                                                    <th style="font-size: 16px">操作</th>
												</tr>
											</thead>
											<tbody>
                                            {% for re in users.object_list %}
                                                <tr class="gradeX" style="width:200px; height:50px;">
													<td>{{ re.name }} </td>
                                                    <td>{{ re.content }}</td>
                                                    {% if re.ruletype == 'domain' %}
                                                    <td style="color: yellowgreen;">{{ re.ruletype }}</td>
                                                    {% else %}
                                                    <td style="color: yellow;">{{ re.ruletype }}</td>
                                                    {% endif %}
                                                       <td>
                                                        <a href="{% url "testrulecha" re.id %}" style="font-size: 16px">
                                                             <button type="button" class="am-badge am-badge-warning am-round" style="font-size: 16px;">修改</button>
                                                        </a>

                                                        <a href="{% url "testruledel" re.id %}" style="font-size: 16px">
                                                             <button type="button" class="am-badge am-badge-danger am-round" style="font-size: 16px;">删除</button>
                                                        </a>

                                                        <a href="{% url "testruleup" %}" style="font-size: 16px">
                                                             <button type="button" class="am-badge am-badge-success am-round" style="font-size: 16px;">新增</button>
                                                        </a>
                                                       </td>
												</tr>
                                            {% endfor %}
                                            </tbody>
										</table>
                                            <nav aria-label="Page navigation">
                                            <ul class="pagination">
                                                {% if users.has_previous %}
                                                    <li>
                                                    <a class="type-vale" href="?page={{ users.previous_page_number }}&type={{ type }}&sort={{ sort }}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
                                                    </li>
                                                {% endif %}

                                               {% for pg in users.paginator.pager_num_range %}
                                                {% if pg == users.number %}
                                                <li class="active"><a class="type-vale" href="?page={{ pg }}&type={{ type }}&sort={{ sort }}">{{ pg }}</a></li>
                                                {% else %}
                                                <li><a class="type-vale" href="?page={{ pg }}&type={{ type }}&sort={{ sort }}">{{ pg }}</a></li>
                                                {% endif %}
                                                {% endfor %}
                                                {% if users.has_next %}
                                                    <li>
                                                        <a class="type-vale" href="?page={{ users.next_page_number }}&type={{ type }}&sort={{ sort }}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>
                                                {% endif %}
                                                    <span style="font-size: 20px;margin-left: 30px">{{ users.number }} /{{ users.paginator.num_pages }}</span>
                                                <span style="margin-left: 20px;font-size: 20px">共<strong style="color: yellowgreen;font-size: larger">{{ result }}</strong>条数据</span>
                                            </ul>
                                            </nav>
                                    </div>
							</div>

						</div>
					</div>

        {% endblock %}
     {% block js %}
     {% endblock %}
